<div layout="col">
    <div class="left">
        <md-input-container ng-repeat="criteria in searchCriteria" layout="row">
            <label>{{ criteria }}</label>
            <md-select ng-model="search[criteria]"
                        name="{{ criteria }}"
                        placeholder="selectionner un {{criteria}}"
                        multiple>
                <md-optgroup label="{{criteria}}">
                    <md-option ng-repeat="value in filterValues[criteria] | filter:searchTerm" ng-value="value">{{value}}</option>
                </md-optgroup>
            </md-select>
        </md-input-container>
        <md-button ng-click="search = {}"> reset !</md-button>
        <md-button ng-click="refresh()"> go !</md-button>
    </div>
    <div class="content" flex="grow" ng-class="initialized ? '': 'loading'" >
        <!-- main content -->
        <div ng-if="initialized">
            <div flex="auto">
                <h1 class="md-display-1 text-center" >répartition homme/femme</h1>
                <canvas class="chart chart-pie" chart-data="hommeFemme.data" chart-labels="hommeFemme.labels"></canvas> 
            </div>
            <hr width="80%">
            <div flex="auto">
                <h1 class="md-display-1 text-center">répartition des ages</h1>
                <canvas class="chart chart-bar" chart-data="ages.data" chart-labels="ages.labels"></canvas> 
            </div>
        </div>
    </div>
    <div class="right">
        <h1>infos:</h1>
        <ul>
            <li>Nombre de club: {{ clubsCount}}</li>
            <li>Nombre de membres: {{ membresCount}}</li>
            <li>Age moyen: {{ ages.avg}}</li>
            <li>Age min: {{ ages.min}}</li>
            <li>Age max: {{ ages.max}}</li>
            <li>Nombre d'homme par femme {{ hommeFemme.avg}}</li>
        </ul>
    </div>
</div>